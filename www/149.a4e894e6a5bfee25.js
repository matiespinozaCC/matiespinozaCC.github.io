"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[149],{149:(D,d,c)=>{c.r(d),c.d(d,{DetallePublicacionPageModule:()=>m});var s=c(177),g=c(4341),n=c(4742),l=c(70),u=c(467),e=c(4438),P=c(8189);function v(t,r){if(1&t&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card-content")(5,"p")(6,"strong"),e.EFF(7,"Descripci\xf3n:"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"p")(10,"strong"),e.EFF(11,"Categor\xeda:"),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"p")(14,"strong"),e.EFF(15,"Autor:"),e.k0s(),e.EFF(16),e.k0s()()()),2&t){const o=e.XpG();e.R7$(3),e.JRh(o.post.title),e.R7$(5),e.SpI(" ",o.post.description,""),e.R7$(4),e.SpI(" ",o.post.category,""),e.R7$(4),e.SpI(" ",o.post.author,"")}}function f(t,r){if(1&t&&(e.j41(0,"ion-item")(1,"ion-label")(2,"h3"),e.EFF(3),e.k0s()()()),2&t){const o=r.$implicit;e.R7$(3),e.Lme("Reserva desde ",o.fechaInicio.toDate().toLocaleString()," hasta ",o.fechaFin.toDate().toLocaleString(),"")}}function h(t,r){1&t&&(e.j41(0,"div",6)(1,"p"),e.EFF(2,"No hay reservas para esta publicaci\xf3n."),e.k0s()())}const F=[{path:"",component:(()=>{var t;class r{constructor(a,i,p){this.postService=a,this.route=i,this.router=p,this.post={},this.reservas=[],this.postId=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.cargarPost(),this.cargarReservas()}cargarPost(){var a=this;return(0,u.A)(function*(){try{a.post=yield a.postService.getPostById(a.postId)}catch(i){console.error("Error al cargar la publicaci\xf3n:",i)}})()}cargarReservas(){var a=this;return(0,u.A)(function*(){try{a.reservas=yield a.postService.getReservasByPostId(a.postId)}catch(i){console.error("Error al cargar las reservas:",i)}})()}eliminarPost(){var a=this;return(0,u.A)(function*(){try{yield a.postService.deletePost(a.postId),a.router.navigate(["/perfil"])}catch(i){console.error("Error al eliminar el post:",i)}})()}irModificar(){this.router.navigate(["/modificar-publicacion",this.postId])}}return(t=r).\u0275fac=function(a){return new(a||t)(e.rXU(P.K),e.rXU(l.nX),e.rXU(l.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-detalle-publicacion"]],decls:12,vars:3,consts:[[4,"ngIf"],["expand","block","color","danger",3,"click"],["expand","block",3,"click"],[1,"reservas-section"],[4,"ngFor","ngForOf"],["class","no-reservas",4,"ngIf"],[1,"no-reservas"]],template:function(a,i){1&a&&(e.j41(0,"ion-content"),e.DNE(1,v,17,4,"ion-card",0),e.j41(2,"ion-button",1),e.bIt("click",function(){return i.eliminarPost()}),e.EFF(3,"Eliminar"),e.k0s(),e.j41(4,"ion-button",2),e.bIt("click",function(){return i.irModificar()}),e.EFF(5,"Modificar"),e.k0s(),e.j41(6,"div",3)(7,"h3"),e.EFF(8,"Reservas realizadas"),e.k0s(),e.j41(9,"ion-list"),e.DNE(10,f,4,2,"ion-item",4),e.k0s(),e.DNE(11,h,3,0,"div",5),e.k0s()()),2&a&&(e.R7$(),e.Y8G("ngIf",i.post),e.R7$(9),e.Y8G("ngForOf",i.reservas),e.R7$(),e.Y8G("ngIf",0===i.reservas.length))},dependencies:[s.Sq,s.bT,n.Jm,n.b_,n.I9,n.ME,n.tN,n.W9,n.uz,n.he,n.nf]}),r})()}];let b=(()=>{var t;class r{}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[l.iI.forChild(F),l.iI]}),r})(),m=(()=>{var t;class r{}return(t=r).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[s.MD,g.YN,n.bv,b]}),r})()}}]);